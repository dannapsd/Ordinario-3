<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

    <!-- AR.js -->
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script>

    <style>
        body { margin: 0; overflow: hidden; }

        /* --- HOTSPOT MODERNOS Y ANIMADOS --- */
        .hotspot {
            width: 45px;
            height: 45px;
            background: radial-gradient(circle, #ff6b6b, #c91818);
            border-radius: 50%;
            border: 3px solid #ffffff;
            cursor: pointer;
            box-shadow: 0 0 12px rgba(255, 0, 0, 0.7);
            animation: pulse 1.4s infinite ease-in-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 10px rgba(255,0,0,0.5); }
            50% { transform: scale(1.2); box-shadow: 0 0 18px rgba(255,0,0,0.8); }
            100% { transform: scale(1); box-shadow: 0 0 10px rgba(255,0,0,0.5); }
        }

        /* Caja del popup */
        #infoBox {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 18px;
            border-radius: 15px;
            width: 300px;
            display: none;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            font-family: Arial;
        }

        #closeBtn {
            background: #ff3b3b;
            color: white;
            padding: 6px 12px;
            border: none;
            border-radius: 10px;
            margin-top: 10px;
            cursor: pointer;
        }
    </style>
</head>

<body>

<!-- POPUP PARA TEXTO -->
<div id="infoBox">
    <div id="infoText"></div>
    <button id="closeBtn" onclick="document.getElementById('infoBox').style.display='none'">Cerrar</button>
</div>

<a-scene embedded arjs>

    <!-- MARCADOR -->
    <a-marker preset="hiro">

        <!-- MODELO 3D DEL OSITO -->
        <a-entity id="teddy"
            gltf-model="teddy_bear.glb"
            scale="0.9 0.9 0.9"
            position="0 0 0"
            rotation="0 180 0">
        </a-entity>

        <!-- HOTSPOTS (usando a-image con iconos invisibles reemplazados por css) -->
        
        <!-- Hotspot 1 (Opción A) -->
        <a-entity 
            class="hotspot"
            position="0.2 0.7 0.3"
            onclick="showInfo('Este tierno osito está diseñado para acompañar a niños y adultos. Su textura suave y su tamaño lo hacen ideal para abrazar. ¡Perfecto para regalar!')">
        </a-entity>

        <!-- Hotspot 2 (Ficha Técnica - opción C) -->
        <a-entity 
            class="hotspot"
            position="-0.2 0.5 0.3"
            onclick="showInfo(`
                <b>Ficha Técnica</b><br><br>
                <b>Nombre:</b> Teddy Bear Classic<br>
                <b>Altura:</b> 25 cm<br>
                <b>Material:</b> Felpa ultrasuave<br>
                <b>Ojos:</b> Acrílico seguro para niños<br>
                <b>Color:</b> Café claro<br>
                <b>Uso:</b> Decoración y peluche de compañía
            `)">
        </a-entity>

        <!-- Hotspot 3 (Video YouTube) -->
        <a-entity 
            class="hotspot"
            position="0 0.3 0.3"
            onclick="window.open('https://youtu.be/mOpVKrHcGRA?si=qRPySbyYm8lNd47L', '_blank')">
        </a-entity>

        <!-- Hotspot 4 (Opción A) -->
        <a-entity 
            class="hotspot"
            position="0 1 0.1"
            onclick="showInfo('Este tierno osito está diseñado para acompañar a niños y adultos. Su textura suave y su tamaño lo hacen ideal para abrazar. ¡Perfecto para regalar!')">
        </a-entity>

    </a-marker>

    <!-- Cámara -->
    <a-entity camera></a-entity>

</a-scene>

<!-- SCRIPT PARA MOSTRAR POPUP -->
<script>
function showInfo(text) {
    document.getElementById("infoText").innerHTML = text;
    document.getElementById("infoBox").style.display = "block";
}
</script>

</body>
</html>
